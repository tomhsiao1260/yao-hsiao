# 自己探索程式和新事物常用的思路

一直以來，我就對圖像的東西很感興趣，尤其是透過計算機畫出來的圖案，來表達自己腦海中的想像。這類領域通常被稱為電腦圖學，對我來說，這是一個又一個的兔子洞。當看到某個新奇的圖像，或新的表達方式時，我就會充滿好奇。這些是怎麼一步步被實作出來的？用了什麼樣的渲染手法？該從哪個切入點開始了解？這些就像一個又一個的黑盒子，等待我去解密。

為什麼會說是黑盒子呢？以程式來說，我想換個角度來形容，覺得圖像的東西有個特別的點是，撰寫時通常會在腦中有個圖像，但這些圖像演變的過程卻很難被記錄下來。好比說，某段過程用到了光線追蹤法，那撰寫的當下腦海中就會有個光線打到物體的想像，並根據這樣的想像把程式撰寫出來。然而，這樣一系列的想像，也就是圖型生成的脈絡，往往很難在原始碼裡呈現出來。這些在渲染過程的中間狀態，就像謎團般的被層層封存，消失在作者過去的開發歷史裡，催生了我到好奇心，期待一個個的發掘出來。

另一個例子是 Inigo Quilez，如果你對圖學領域熟悉，你可能會聽過這個人，他對圖像渲染和數學之間的理解非常的熟稔。之前看到他的作品 Selfie Girl，就讓我很想了解這些東西是怎麼被一步步畫出來的，接著就是長達一個多禮拜的逆向工程，我儘可能的拆解了內部的所有程式碼，並讓中間的所有狀態變得可見，直到圖像能在我腦海中一步步的浮現出來。有種以另一種角度，也就是以 Inigo 本人的思考脈絡來看這個作品的感覺。

另一個我想提到的是 Bruno Simon 這個人，他開了一門專門教 Three.js 的課程。讓我印象深刻的是，他特別擅長把程式的中間步驟一個個呈現出來。好比說，如果要展示像銀河系這樣的粒子系統，他會先隨機生成一千顆白點在正方體內，再逐步增加一些參數像是粒子數目、半徑、分佈，再來是呈現出銀河系的骨幹，並讓骨幹有螺旋的感覺，最後是加入隨機參數，讓整體有星系的感覺。他盡可能的讓過程中的每一步變得可見，並對初學者來講直觀，這對圖像的理解幫助很大，也對整個過程有更深的認識。

然而，其實圖學領域對我來說還是有非常多黑盒子，許多細節或空間成形的過程往往只存留在開發者的腦海裡，這促使我去拆解並重新建構他們的程式碼，嘗試將這些圖像拼回到我自己的腦海裡。聽起來可能有點抽象，所以我想用一個具體例子來說明這個過程。故事背景是這樣的，因為我最近在參加 Vesuvius Challenge，這個時間點面臨一個技術挑戰是，要怎麼處理龐大幾何形狀的局部渲染，以及快速計算之間的距離。這讓我很直觀的想到 Garrett Johnson，之前在 NASA JPL 待過，而他的專案 three-mesh-bvh 的底層邏輯好像能解決我的問題。而這個專案的內部對當時的我來說就像個黑盒子，裡面充滿了寶藏等待我去挖掘。儘管我第一時間能看懂這個專案的渲染結果，並大概知道背後有哪些事情在運作，但仍然有太多中間細節缺乏了具體圖像，好比說光線怎麼經過這些結構，BVH 的具體建構等等。唯有充分理解每步細節背後的圖像，才有可能運用在我所面臨的問題上面。

在解析黑盒子的第一步我認為是最困難的，通常會花上大部分的時間，那就是要找到一個切入點，將程式碼砍到自己能理解的最簡形式。以這個專案來說，我對樹的建構、光線追蹤、樹的視覺化、距離計算都不是很理解，但這些東西是有先後順序的，所有邏輯應該都會從樹的建構開始，於是我便試著把現有可執行的程式碼進行大量刪減，有時候會報錯，有時候會成功，總之我會盡可能把樹的建構以外的程式碼都刪除掉，並讓程式碼處於一個仍能執行的狀態。到了這步，可能還是對整個程式沒有很理解，我會開始思考有沒有更簡單的圖像，好比說這個範例的樹狀結構還是太複雜了，我先改成只有兩個三角形好了，又或是曲面太難預測了，我先改成平面好了，就這樣一路繼續刪減下去。到了某個點會覺得現有的程式碼已經非常簡單，你對它已經有高度的掌握，這就是我所指的最簡形式，也就是程式碼的切入點。因為你可以根據你過去刪減的經驗，慢慢把整個程式碼的脈絡建構回來。我覺得這步是最困難的，但通常找到了這個切入點，問題也差不多解掉一半了。



- 覺得圖學是想法的傳遞，而非僅是追求真實
